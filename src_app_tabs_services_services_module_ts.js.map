{"version":3,"file":"src_app_tabs_services_services_module_ts.js","mappings":"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","sources":["./src/app/tabs/services/services.module.ts","./src/app/tabs/services/services.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { RouteReuseStrategy, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule, IonicRouteStrategy } from '@ionic/angular';\r\n\r\nimport { ServicesPage } from './services.page';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CommonModule, CurrencyPipe } from '@angular/common';\r\n\r\nimport { SharedModule } from 'src/app/shared/modules/share.module';\r\n\r\n@NgModule({\r\n  declarations: [ServicesPage],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule.forRoot(),\r\n    RouterModule.forChild([{ path: '', component: ServicesPage }]),\r\n    SharedModule,\r\n  ],\r\n  providers : [CurrencyPipe],\r\n  exports: [ServicesPage]\r\n})\r\nexport class ServicesModule { }\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { IonModal, LoadingController } from '@ionic/angular';\r\nimport { OverlayEventDetail } from '@ionic/core/components';\r\nimport { GeneralService } from 'src/app/services/general-service';\r\nimport { IsEmptyPipe } from 'src/app/shared/pipe/is-empty.pipe';\r\nimport { InfiniteScrollCustomEvent } from '@ionic/angular';\r\nimport { Constant } from 'src/app/shared/constants/constant.class';\r\nimport { NotificationService } from 'src/app/services/notification.service';\r\n\r\n@Component({\r\n  selector: 'app-services',\r\n  templateUrl: './services.page.html',\r\n  styleUrls: ['./services.page.scss'],\r\n})\r\nexport class ServicesPage implements OnInit {\r\n  @ViewChild('popover') popover;\r\n  isPopoverOpenFillter = false;\r\n  isModalOpenDetailItemService = false;\r\n  listService: any[] = [];\r\n  items = [];\r\n  listOrderType: any[] = [];\r\n  listGroupOrderType: any[] = [];\r\n  customPopoverOptions = {\r\n    // header: 'Trạng thái đơn hàng',\r\n    subHeader: 'Chọn nhóm cần lọc',\r\n    // message: 'Chỉ chọn một TTĐH',\r\n  };\r\n  titleDetailItemService = 'Công thức máu';\r\n  // Chức dữ liệu cơ sở, khởi tạo ban đầu.\r\n  initDatas: any;\r\n\r\n  // Key search\r\n  keywordSearch: any;\r\n\r\n  // dich vụ trong trong danh sách dịch vụ\r\n  itemService: any;\r\n  public progress = 0;\r\n  constructor(\r\n    private generalService: GeneralService,\r\n    private loadingCtrl: LoadingController,\r\n    private notificationService: NotificationService,\r\n  ) {\r\n    this.listService = [\r\n      {\r\n        designation: 'Nhóm máu ABO RH',\r\n        price: '45000',\r\n      },\r\n      {\r\n        designation: 'Glucose',\r\n        price: '17000',\r\n      },\r\n      {\r\n        designation: 'GPT (ALT)',\r\n        price: '95000',\r\n      },\r\n      {\r\n        designation: 'Adenovirus Ag test nhanh',\r\n        price: '100000',\r\n      },\r\n      {\r\n        designation: 'TSI (Thyroid Stimulating Immunoglobulins)',\r\n        price: '135000',\r\n      },\r\n      {\r\n        designation: 'GGT',\r\n        price: '135000',\r\n      },\r\n      {\r\n        designation: 'FibroTest Score',\r\n        price: '109000',\r\n      },\r\n      {\r\n        designation: 'ValueHbA1c',\r\n        price: '65000',\r\n      },\r\n      {\r\n        designation: 'Pleural Fluid',\r\n        price: '69000',\r\n      },\r\n      {\r\n        designation: 'JEV (Viêm não Nhật Bản)',\r\n        price: '335000',\r\n      },\r\n      {\r\n        designation: 'Tiglycarnitine (C5:1)',\r\n        price: '185000',\r\n      },\r\n\r\n      {\r\n        designation: 'FibroTest Score',\r\n        price: '109000',\r\n      },\r\n      {\r\n        designation: 'ValueHbA1c',\r\n        price: '65000',\r\n      },\r\n      {\r\n        designation: 'Pleural Fluid',\r\n        price: '69000',\r\n      },\r\n      {\r\n        designation: 'Nắm tay',\r\n        price: '0',\r\n      },\r\n    ];\r\n\r\n\r\n\r\n  }\r\n\r\n  loadingDataOrderType() {\r\n    setInterval(() => {\r\n      this.progress += 0.01;\r\n\r\n      // Reset the progress bar when it reaches 100%\r\n      // to continuously show the demo\r\n      if (this.progress > 1) {\r\n        setTimeout(() => {\r\n          this.progress = 0;\r\n        }, 1000);\r\n      }\r\n    }, 50);\r\n  }\r\n\r\n  async showLoading() {\r\n    const loading = await this.loadingCtrl.create({\r\n      message: 'Dữ liệu đang tải lên ...',\r\n      duration: 1000,\r\n    });\r\n\r\n    loading.present();\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this.getListInitialData();\r\n    await this.getOrderType();\r\n  }\r\n\r\n  onIonInfinite(ev) {\r\n    this.generateItemsOrderType();\r\n    setTimeout(() => {\r\n      (ev as InfiniteScrollCustomEvent).target.complete();\r\n    }, 500);\r\n  }\r\n\r\n  getOrderType() {\r\n    // this.loadingDataOrderType();\r\n    // Show thông báo delay thời gian chờ loading dữ liệu\r\n    this.showLoading();\r\n\r\n    this.generalService.getOrderType().subscribe(\r\n      (res) => {\r\n        if (res !== null) {\r\n\r\n          this.listOrderType = res;\r\n\r\n          // Restar biến item về emplu để chuẩn cho quá trình quét dữ liệu\r\n          this.items = [];\r\n\r\n          // Bắt đầu danh sách với 50 phần tử\r\n          this.generateItemsOrderType();\r\n          console.log('this.listOrderType', this.listOrderType);\r\n        }\r\n      },\r\n      (errorRes: any) => {\r\n        if (errorRes) {\r\n          this.notificationService.showMessage(Constant.DANGER, `Dữ liệu trả về đã có lỗi xảy ra`);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  getOrderTypeGroup() {\r\n    // this.loadingDataOrderType();\r\n    // Show thông báo delay thời gian chờ loading dữ liệu\r\n    this.showLoading();\r\n\r\n    this.generalService.listOrderGroup().subscribe(\r\n      (res) => {\r\n        if (res !== null) {\r\n\r\n          this.listGroupOrderType = res;\r\n\r\n          // Restar biến item về emplu để chuẩn cho quá trình quét dữ liệu\r\n          this.items = [];\r\n\r\n          // Bắt đầu danh sách với 50 phần tử\r\n          this.generateItemsOrderType();\r\n          console.log('this.listGroupOrderType', this.listGroupOrderType);\r\n        }\r\n      },\r\n      (errorRes: any) => {\r\n        if (errorRes) {\r\n          this.notificationService.showMessage(Constant.DANGER, `Dữ liệu trả về đã có lỗi xảy ra`);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  getListInitialData() {\r\n    this.initDatas = JSON.parse(localStorage.getItem(Constant.INIT_DATA));\r\n  }\r\n\r\n  presentPopoverFillter(e: Event) {\r\n    this.popover.event = e;\r\n    this.isPopoverOpenFillter = true;\r\n  }\r\n\r\n\r\n  handleChangeSearch(event: any) {\r\n    this.keywordSearch = event.target.value;\r\n\r\n    // payload dữ liệu chuyền đi\r\n    const payload = {\r\n      search: this.keywordSearch,\r\n      partnerId: 0,\r\n      orderTypeGroupId: 0,\r\n      page: 1,\r\n      pageSize: 250,\r\n      showDisable: true,\r\n      showPrice0: true\r\n    };\r\n\r\n    this.generalService.getOrderTypeFilter(payload).subscribe(\r\n      (res: any) => {\r\n        if (res != null) {\r\n          this.listOrderType = res.data;\r\n          console.log('this.listOrderType: ', this.listOrderType);\r\n          // Restar biến item về emplu để chuẩn cho quá trình quét dữ liệu\r\n          this.items = [];\r\n          this.generateItemsOrderType();\r\n        }\r\n      },\r\n      (errorRes: any) => {\r\n        if (errorRes) {\r\n          this.notificationService.showMessage(Constant.DANGER, `Đã có lỗi xảy ra khi hệ thống trả dữ liệu về`);\r\n        }\r\n      });\r\n  }\r\n\r\n  clickItemService(item: any){\r\n    this.itemService = item;\r\n    //  về DV ${item}\r\n    this.titleDetailItemService = `Thông tin chi tiết`;\r\n    this.setOpenModalDetailItemService(true);\r\n  }\r\n\r\n\r\n\r\n  setOpenModalDetailItemService(isOpen: boolean) {\r\n    this.isModalOpenDetailItemService = isOpen;\r\n  }\r\n\r\n  isEmpty(value: any) {\r\n    return new IsEmptyPipe().transform(value);\r\n  }\r\n\r\n  handleChangeTypeGroup(event: any) {\r\n    const value = event.target.value;\r\n\r\n    switch (value) {\r\n      case 0:\r\n        // this.getOrderType();\r\n        break;\r\n\r\n      case 1:\r\n        // this.getOrderTypeGroup();\r\n        break;\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  private generateItemsOrderType() {\r\n\r\n    // Lượng phần tử tối đa.\r\n    const maxLength = 50;\r\n\r\n    // index của phần tử đầu tiền từ chuỗi cần thêm\r\n    const index = this.items.length;\r\n\r\n    // Lượng phần tử có thể thêm vào\r\n    const sub = this.listOrderType.length - this.items.length;\r\n    const count = Math.min(maxLength, sub);\r\n\r\n\r\n    // Lấy mảng con từ mảng this.listOrderType.length bắt đầu từ vị trí index và có độ dài count\r\n    const subArray = this.listOrderType.slice(index, index + count);\r\n\r\n    // Nối thêm vào mảng this.items\r\n    this.items = this.items.concat(subArray);\r\n\r\n    console.log('this.items', this.items);\r\n\r\n  }\r\n}\r\n\r\n\r\n\r\n"],"names":["Component","ViewChild","LoadingController","GeneralService","IsEmptyPipe","Constant","NotificationService","ServicesPage","constructor","generalService","loadingCtrl","notificationService","subHeader","listService","designation","price","loadingDataOrderType","setInterval","progress","setTimeout","showLoading","loading","create","message","duration","present","ngOnInit","getListInitialData","getOrderType","onIonInfinite","ev","generateItemsOrderType","target","complete","subscribe","res","listOrderType","items","console","log","errorRes","showMessage","DANGER","getOrderTypeGroup","listOrderGroup","listGroupOrderType","initDatas","JSON","parse","localStorage","getItem","INIT_DATA","presentPopoverFillter","e","popover","event","isPopoverOpenFillter","handleChangeSearch","keywordSearch","value","payload","search","partnerId","orderTypeGroupId","page","pageSize","showDisable","showPrice0","getOrderTypeFilter","data","clickItemService","item","itemService","titleDetailItemService","setOpenModalDetailItemService","isOpen","isModalOpenDetailItemService","isEmpty","transform","handleChangeTypeGroup","maxLength","index","length","sub","count","Math","min","subArray","slice","concat","args","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}