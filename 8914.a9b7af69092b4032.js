"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8914],{3708:(ct,y,s)=>{s.r(y),s.d(y,{LaboratoryPageModule:()=>X});var l=s(7331),m=s(6895),h=s(4719),M=s(581),_=s(6069),d=s(5861),c=s(6443),P=s(4904),t=s(6738),v=s(2680),b=s(1188),C=s(849),Z=s(2013),E=s(1557),L=s(5930),T=s(7638),A=s(8132),F=s(888);let x=(()=>{class i{transform(e,n){return n.find(a=>a.id===e).name}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"orderStatus",type:i,pure:!0}),i})();const S=["popoverFormFilter"],D=["orderStatusSelect"];function O(i,r){if(1&i&&(t.TgZ(0,"ion-select-option",32),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function N(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"ion-content",0)(1,"ion-label",15),t._uU(2,"L\u1ecdc d\u1eef li\u1ec7u theo ..."),t.qZA(),t.TgZ(3,"ion-list")(4,"ion-item",15)(5,"ion-label",16),t._UZ(6,"ion-icon",17),t._uU(7," T\xean b\u1ec7nh nh\xe2n "),t.qZA(),t.TgZ(8,"ion-input",18),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.formFilterTestSheet.namePatient=o)}),t.qZA()(),t.TgZ(9,"ion-item",15)(10,"ion-label",16),t._UZ(11,"ion-icon",19),t._uU(12," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),t.qZA(),t.TgZ(13,"ion-input",20),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.formFilterTestSheet.phoneNoPatient=o)}),t.qZA()(),t.TgZ(14,"ion-item",15)(15,"ion-label",16),t._UZ(16,"ion-icon",21),t._uU(17," Tr\u1ea1ng th\xe1i \u0110\u01a1n h\xe0ng "),t.qZA(),t.TgZ(18,"ion-select",22,23),t.NdJ("ionChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.handleChangeSelectOrderStatus(o))}),t.YNc(20,O,2,2,"ion-select-option",24),t.qZA()()(),t.TgZ(21,"ion-buttons",25)(22,"ion-button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.cancelFormFilter())}),t._UZ(23,"ion-icon",27),t.qZA(),t.TgZ(24,"ion-button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.restartFormFilter())}),t._UZ(25,"ion-icon",29),t.qZA(),t.TgZ(26,"ion-button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSearchByFormFilter())}),t._UZ(27,"ion-icon",31),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(8),t.Q6J("ngModel",e.formFilterTestSheet.namePatient),t.xp6(5),t.Q6J("ngModel",e.formFilterTestSheet.phoneNoPatient),t.xp6(5),t.Q6J("interfaceOptions",e.customPopoverOptions),t.xp6(2),t.Q6J("ngForOf",e.initDatas.orderStatus)}}function I(i,r){if(1&i&&(t.TgZ(0,"ion-select-option",33),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function w(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"ion-datetime",36,37),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.filterInterval.pastTime=o)})("ionChange",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.handleChangeFilterIntervalCustomByUser(o))}),t.TgZ(2,"span",38),t._uU(3,"Ch\u1ecdn th\u1eddi gian b\u1eaft \u0111\u1ea7u"),t.qZA()()}if(2&i){const e=t.oxw(2);t.Q6J("ngModel",e.filterInterval.pastTime)("showDefaultTitle",!0)("showDefaultButtons",!0)("showClearButton",!0)}}function U(i,r){1&i&&(t.TgZ(0,"ion-item")(1,"span",15),t._uU(2,"T\u1eeb ng\xe0y: "),t.qZA(),t._UZ(3,"ion-datetime-button",34),t.TgZ(4,"ion-modal",35),t.YNc(5,w,4,4,"ng-template"),t.qZA()()),2&i&&(t.xp6(4),t.Q6J("keepContentsMounted",!0))}function J(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"ion-datetime",40,41),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.filterInterval.presentTime=o)})("ionChange",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.handleChangeFilterIntervalCustomByUser(o))}),t.TgZ(2,"span",38),t._uU(3,"Ch\u1ecdn th\u1eddi gian b\u1eaft \u0111\u1ea7u"),t.qZA()()}if(2&i){const e=t.oxw(2);t.Q6J("ngModel",e.filterInterval.presentTime)("showDefaultTitle",!0)("showDefaultButtons",!0)("showClearButton",!0)("min",e.filterInterval.pastTime)}}function k(i,r){1&i&&(t.TgZ(0,"ion-item")(1,"span",15),t._uU(2,"\u0110\u1ebfn ng\xe0y: "),t.qZA(),t._UZ(3,"ion-datetime-button",39),t.TgZ(4,"ion-modal",35),t.YNc(5,J,4,5,"ng-template"),t.qZA()()),2&i&&(t.xp6(4),t.Q6J("keepContentsMounted",!0))}function q(i,r){if(1&i&&(t.TgZ(0,"h3",45),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.lnq("",t.xi3(2,3,e.dateCreated,"ddMMyy"),"-",e.code," ",e.patient.name,"")}}function H(i,r){if(1&i&&(t.TgZ(0,"div",46)(1,"div"),t._UZ(2,"ion-icon",19),t.qZA(),t.TgZ(3,"h3",47),t._uU(4),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.patient.phoneNo)}}function G(i,r){if(1&i&&(t.TgZ(0,"div",46)(1,"div"),t._UZ(2,"ion-icon",48),t.qZA(),t.TgZ(3,"h3",49),t._uU(4),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.patient.address)}}function B(i,r){if(1&i&&(t.TgZ(0,"div",46)(1,"div"),t._UZ(2,"ion-icon",50),t.qZA(),t.TgZ(3,"h3",47),t._uU(4),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.chanDoan)}}function Y(i,r){if(1&i&&(t.TgZ(0,"div",51)(1,"h3"),t._uU(2),t.ALo(3,"orderStatus"),t.qZA()()),2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(2),t.Oqu(n.initDatas?t.xi3(3,1,e.status,null==n.initDatas?null:n.initDatas.orderStatus):e.status)}}function Q(i,r){if(1&i&&(t.TgZ(0,"ion-item")(1,"ion-label"),t.YNc(2,q,3,6,"h3",42),t.ALo(3,"isEmpty"),t.YNc(4,H,5,1,"div",43),t.ALo(5,"isEmpty"),t.YNc(6,G,5,1,"div",43),t.ALo(7,"isEmpty"),t.YNc(8,B,5,1,"div",43),t.ALo(9,"isEmpty"),t.YNc(10,Y,4,4,"div",44),t.ALo(11,"isEmpty"),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.Q6J("ngIf",!t.lcZ(3,5,e.code)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(5,7,e.patient.phoneNo)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(7,9,e.patient.address)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(9,11,e.chanDoan)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(11,13,e.status))}}function K(i,r){1&i&&(t.TgZ(0,"span",66),t._uU(1,"*T\xean b\u1ec7nh nh\xe2n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!"),t.qZA())}function V(i,r){1&i&&(t.TgZ(0,"span",66),t._uU(1,"*S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!"),t.qZA())}function R(i,r){1&i&&(t.TgZ(0,"span",66),t._uU(1,"*\u0110\u1ecba ch\u1ec9 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!"),t.qZA())}function z(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",52)(3,"ion-button",53),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.setOpenModalAddPatient(!1))}),t._uU(4,"Hu\u1ef7"),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6),t.qZA(),t.TgZ(7,"ion-buttons",54)(8,"ion-button",53),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveModalAddPatient())}),t._uU(9,"L\u01b0u"),t.qZA()()()(),t.TgZ(10,"ion-content",0),t._UZ(11,"label",55),t.TgZ(12,"div")(13,"ion-col")(14,"ion-item")(15,"ion-label",16),t._UZ(16,"ion-icon",17),t._uU(17," T\xean b\u1ec7nh nh\xe2n "),t.TgZ(18,"span",56),t._uU(19,"*"),t.qZA()(),t.TgZ(20,"ion-input",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.itemPatientFormModalLab.name=o)})("keyup",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onKeyUpInputNamePatient())}),t.qZA()(),t.YNc(21,K,2,0,"span",58),t.qZA(),t.TgZ(22,"ion-col")(23,"ion-item")(24,"ion-label",16),t._UZ(25,"ion-icon",19),t._uU(26," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),t.TgZ(27,"span",56),t._uU(28,"*"),t.qZA()(),t.TgZ(29,"ion-input",59),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.itemPatientFormModalLab.phone=o)})("keyup",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onKeyUpInputNumberPhone())}),t.qZA()(),t.YNc(30,V,2,0,"span",58),t.qZA(),t.TgZ(31,"ion-col")(32,"ion-item")(33,"ion-label",16),t._UZ(34,"ion-icon",48),t._uU(35," \u0110\u1ecba ch\u1ec9 "),t.TgZ(36,"span",56),t._uU(37,"*"),t.qZA()(),t.TgZ(38,"ion-input",60),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.itemPatientFormModalLab.address=o)})("keyup",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onKeyUpInputAddress())}),t.qZA()(),t.YNc(39,R,2,0,"span",58),t.qZA(),t.TgZ(40,"ion-item")(41,"ion-label",61),t._UZ(42,"ion-icon",62),t._uU(43," Ghi ch\xfa "),t.qZA(),t.TgZ(44,"ion-input",63),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.itemPatientFormModalLab.notes=o)}),t.qZA()()(),t.TgZ(45,"div",64)(46,"ion-buttons",65)(47,"ion-button",53),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.nextModalPatient())}),t._uU(48," L\u01b0u v\xe0 th\xeam m\u1edbi ... "),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(6),t.Oqu(e.titleModalAddPatient),t.xp6(5),t.Q6J("innerHTML",e.instructionModalPatient,t.oJD),t.xp6(9),t.Q6J("ngModel",e.itemPatientFormModalLab.name),t.xp6(1),t.Q6J("ngIf",e.validFormInput.isEmptyFullName),t.xp6(8),t.Q6J("ngModel",e.itemPatientFormModalLab.phone),t.xp6(1),t.Q6J("ngIf",e.validFormInput.isEmptyNumberPhone),t.xp6(8),t.Q6J("ngModel",e.itemPatientFormModalLab.address),t.xp6(1),t.Q6J("ngIf",e.validFormInput.isEmptyAdress),t.xp6(5),t.Q6J("ngModel",e.itemPatientFormModalLab.notes)}}const $=[{path:"",component:(()=>{class i{constructor(e,n,o,a,p,g,u,f,tt,et,nt,it,ot,at,lt,rt,st,ut){this.photoService=e,this.popoverController=n,this.router=o,this.platform=a,this.localStorage=p,this.storage=g,this.navCtrl=u,this.pickerCtrl=f,this.actionSheetCtrl=tt,this.notificationService=et,this.mainService=nt,this.badgeService=it,this.appVersion=ot,this.alertController=at,this.orderService=lt,this.loadingCtrl=rt,this.datePipe=st,this.generalService=ut,this.isPopoverOpenFilter=!1,this.titleModalAddPatient="Th\xeam y\xeau c\u1ea7u",this.instructionModalPatient="M\u1eddi nh\u1eadp th\xf4ng tin b\u1ec7nh nh\xe2n \u0111\u1ea7u ti\xean:",this.numberOfNewPatients=0,this.isModalOpenFormPatient=!1,this.validFormInput={isEmptyFullName:!1,isEmptyNumberPhone:!1,isEmptyAdress:!1},this.customPopoverOptions={subHeader:"Ch\u1ecdn tr\u1ea1ng th\xe1i \u0111\u01a1n h\xe0ng c\u1ea7n l\u1ecdc"},this.itemPatientFormModalLab={valueRequestType:0,name:"",phone:"",address:"",timeSample:this.datePipe.transform(new Date,"yyyy-MM-ddTHH:mm:ss"),notes:""},this.listPatientLab=[{name:"1234-1643 Tr\u1ea7n V\u0103n A",phone:"0981123574",address:"CT6 Khu \u0111\xf4 th\u1ecb Vi\u1ec7t H\u01b0ng, Long Bi\xean, H\xe0 N\u1ed9i",conditon:"Vi\xeam lo\xe9t d\u1ea1 d\xe0y t\xe1 tr\xe0ng",status:"Ch\u01b0a nh\u1eadn y\xeau c\u1ea7u",notes:""},{name:"1234 - 2341 Tr\u1ea7n Th\u1ecb L\xfd",phone:"0234538592",address:"257 Gi\u1ea3i ph\xf3ng, Hai B\xe0 Tr\u01b0ng, H\xe0 N\u1ed9i",conditon:"S\u1ed1t xu\u1ea5t huy\u1ebft",status:"\u0110\xe3 nh\u1eadn y\xeau c\u1ea7u v\xe0 \u0111ang x\u1eed l\xfd",notes:""},{name:"1234 - 1643 L\xfd Thu\u1ef3 Linh",phone:"0903245394",address:"40 Ph\u01b0\u1eddng Li\u1ec7t, Thanh Xu\xe2n, H\xe0 N\u1ed9i",conditon:"Vi\xeam gan A",status:"\u0110\xe3 tr\u1ea3 k\u1ebft qu\u1ea3",notes:""}],this.listOrder=[],this.listRequest=[],this.listPartner=[],this.listTypeOrder=[],this.formFilterTestSheet={namePatient:"",phoneNoPatient:"",orderStatus:0},this.filterInterval={isShow:!1,presentTime:"",pastTime:""},this.customAlertOptionsRequestType={header:"Ch\u1ecdn lo\u1ea1i y\xeau c\u1ea7u",translucent:!0},this.now=new Date,this.listPatientLab=[{name:"1234-1643 Tr\u1ea7n V\u0103n A",phone:"0981123574",address:"CT6 Khu \u0111\xf4 th\u1ecb Vi\u1ec7t H\u01b0ng, Long Bi\xean, H\xe0 N\u1ed9i",conditon:"Vi\xeam lo\xe9t d\u1ea1 d\xe0y t\xe1 tr\xe0ng",status:"Ch\u01b0a nh\u1eadn y\xeau c\u1ea7u",notes:""},{name:"1234 - 2341 Tr\u1ea7n Th\u1ecb L\xfd",phone:"0234538592",address:"257 Gi\u1ea3i ph\xf3ng, Hai B\xe0 Tr\u01b0ng, H\xe0 N\u1ed9i",conditon:"S\u1ed1t xu\u1ea5t huy\u1ebft",status:"\u0110\xe3 nh\u1eadn y\xeau c\u1ea7u v\xe0 \u0111ang x\u1eed l\xfd",notes:""},{name:"1234 - 1643 L\xfd Thu\u1ef3 Linh",phone:"0903245394",address:"40 Ph\u01b0\u1eddng Li\u1ec7t, Thanh Xu\xe2n, H\xe0 N\u1ed9i",conditon:"Vi\xeam gan A",status:"\u0110\xe3 tr\u1ea3 k\u1ebft qu\u1ea3",notes:""}]}onKeyUpInputNamePatient(){this.validFormInput.isEmptyFullName=this.isEmpty(this.itemPatientFormModalLab.name)}onKeyUpInputNumberPhone(){this.validFormInput.isEmptyNumberPhone=this.isEmpty(this.itemPatientFormModalLab.phone)}onKeyUpInputAddress(){this.validFormInput.isEmptyAdress=this.isEmpty(this.itemPatientFormModalLab.address)}ionViewDidLoad(){console.log("ionViewDidLoad")}ionViewWillLeave(){console.log("ionViewWillLeave")}ionViewDidLeave(){console.log("ionViewDidLeave")}ionViewWillUnload(){console.log("ionViewWillUnload")}ionViewDidEnter(){console.log("ionViewDidEnter")}ionViewWillEnter(){return(0,d.Z)(function*(){console.log("ionViewWillEnter")})()}ngOnInit(){var e=this;return(0,d.Z)(function*(){console.log("ngOnInit"),e.localStorage.getSelectedUser().then(o=>{e.userInfo=o}),yield e.getListInitialData(),yield e.getListOrder({barcode:"",patient:"",status:0,fromDate:"",toDate:"",assignToUserId:0,counselors:null,partnerId:0,isSendSMS:null,isPrintResult:null,patientAge:null,phoneNo:null,keyword:"",pageSize:50,page:1},!0),yield e.getListOrderType()})()}showLoading(){var e=this;return(0,d.Z)(function*(){(yield e.loadingCtrl.create({message:"D\u1eef li\u1ec7u \u0111ang t\u1ea3i l\xean ...",duration:2e3})).present()})()}getListOrder(e,n){n&&this.showLoading(),this.orderService.getOrders(e).subscribe(o=>{null!=o&&(this.listOrder=o.data,console.log("this.listOrder : ",this.listOrder))},o=>{403===o.status?(this.notificationService.showMessage(c.s.DANGER,"Ng\u01b0\u1eddi d\xf9ng c\xf3 quy\u1ec1n truy c\u1eadp"),this.router.navigate(["/login"])):this.notificationService.showMessage(c.s.DANGER,"D\u1eef li\u1ec7u tr\u1ea3 v\u1ec1 \u0111\xe3 c\xf3 l\u1ed7i x\u1ea3y ra")})}getListOrderType(){this.generalService.getListRequestType().subscribe(e=>{null!==e&&(console.log("getListOrderType res: ",e),this.listTypeOrder=e.filter(n=>"LM"===n.requestTypeCode||"TM"===n.requestTypeCode))},e=>{})}getListInitialData(){this.initDatas=JSON.parse(localStorage.getItem(c.s.INIT_DATA))}presentPopoverFilter(e){this.popoverFormFilter.event=e,this.isPopoverOpenFilter=!0}getListPartner(){this.generalService.getListPartner().subscribe(e=>{this.listPartner=e},e=>{})}showProfile(){}logout(){this.localStorage.clearAll(),this.popoverController.dismiss(),this.router.navigate(["/"])}doRefresh(e){}setOpenModalAddPatient(e){this.isModalOpenFormPatient=e}openModalPatientLab(){this.instructionModalPatient="M\u1eddi nh\u1eadp th\xf4ng tin b\u1ec7nh nh\xe2n \u0111\u1ea7u ti\xean:",this.numberOfNewPatients=0,this.resetFormModalPatient(),this.restartValidFormAddPatient(),this.setOpenModalAddPatient(!0)}restartValidFormAddPatient(){this.validFormInput.isEmptyAdress=!1,this.validFormInput.isEmptyFullName=!1,this.validFormInput.isEmptyNumberPhone=!1}cancelModalAddPatient(){this.setOpenModalAddPatient(!1)}confirmPatientModal(){const e=!this.isEmpty(this.itemPatientFormModalLab.name);this.validFormInput.isEmptyFullName=!e;const n=!this.isEmpty(this.itemPatientFormModalLab.phone);this.validFormInput.isEmptyNumberPhone=!n;const o=!this.isEmpty(this.itemPatientFormModalLab.address);return this.validFormInput.isEmptyAdress=!o,e&&n&&o}saveModalAddPatient(){this.confirmPatientModal()?(this.listPatientLab.push(JSON.parse(JSON.stringify(this.itemPatientFormModalLab))),this.generalService.createOrder({id:0,patientId:null,code:null,name:null,orderDoctor:null,orderDate:null,visitCode:null,visiteDate:null,chanDoan:null,khoa:null,buong:null,giuong:null,status:null,phoneNo:null,address:null,note:this.itemPatientFormModalLab.notes,partnerId:null,details:[{orderTypeId:null,price:null}],paymentType:1,patient:{id:null,code:null,name:this.itemPatientFormModalLab.name,sex:null,dob:null,yob:null,cmnd:null,address:this.itemPatientFormModalLab.address,phoneNo:this.itemPatientFormModalLab.phone,email:null},momWeight:null,momHeightCM:null,ultrasoundDate:null,gestationalWeek:null,gestationalDay:null,pregnancyNo:null,fetusAmount:null,nt:null,crl:null,expectedDateOfBirth:null,requestId:null,lat:null,lng:null,assignToUserId:null,specimenID:null,privateNote:null,discountPaymentType:null,extraDiscountPaymentType:null,bsdiscountPaymentType:null,paidType:null,utmSource:null,dateTakenSpecimen:null,addressLongitude:null,addressLatitude:null}).subscribe(n=>{n.isValid?(this.resetFormModalPatient(),this.notificationService.showMessage(c.s.SUCCESS,`\u0110\xe3 t\u1ea1o phi\u1ebfu x\xe9t nghi\u1ec7m cho BN ${this.itemPatientFormModalLab.name}`),this.setOpenModalAddPatient(!1)):this.notificationService.showMessage(c.s.DANGER,`\u0110\xe3 c\xf3 l\u1ed7i : ${n.errors[0].errorMessage}`)},n=>{this.notificationService.showMessage(c.s.DANGER,"\u0110\xe3 c\xf3 l\u1ed7i 1")},n=>{this.notificationService.showMessage(c.s.DANGER,`\u0110\xe3 c\xf3 l\u1ed7i ${n[0].errorMessage}`)}),this.notificationService.showMessage(c.s.DANGER,"L\u1ed7i ngo\xe0i ph\u1ea1m vi x\u1eed l\xfd, nghi\u1ec7m v\u1ee5 ch\u01b0a ho\xe0n ch\u1ec9nh")):this.notificationService.showMessage(c.s.DANGER,"\u0110\xe3 c\xf3 l\u1ed7i 2")}nextModalPatient(){this.confirmPatientModal()&&(this.listPatientLab.push(JSON.parse(JSON.stringify(this.itemPatientFormModalLab))),this.numberOfNewPatients++,this.instructionModalPatient=`\u0110\xe3 th\xeam <strong>${this.numberOfNewPatients}</strong> b\u1ec7nh nh\xe2n. M\u1eddi nh\u1eadp th\xf4ng tin b\u1ec7nh nh\xe2n ti\u1ebfp theo:`,this.resetFormModalPatient())}onWillDismiss(e){}resetFormModalPatient(){this.itemPatientFormModalLab={valueRequestType:0,name:"",phone:"",address:"",timeSample:this.datePipe.transform(new Date,"yyyy-MM-ddTHH:mm:ss"),notes:""}}handleChangeSearch(e){var n=this;return(0,d.Z)(function*(){n.keywordSearch=e.target.value;const o={barcode:null,patient:null,status:null,fromDate:n.filterInterval.pastTime,toDate:n.filterInterval.presentTime,assignToUserId:null,counselors:null,partnerId:null,isSendSMS:null,isPrintResult:null,patientAge:null,phoneNo:null,keyword:n.keywordSearch,pageSize:50,page:1};yield n.getListOrder(o,!1)})()}handleChangeSelectOrderStatus(e){var n=this;return(0,d.Z)(function*(){n.formFilterTestSheet.orderStatus=e.target.value})()}handleChangeFilterInterval(e){var n=this;return(0,d.Z)(function*(){const o=e.target.value,a=new Date,p=new Date;a.setHours(0,0,0,0);const g=p.getDay();let u;switch(o){case 1:n.filterInterval.isShow=!1,u=0,a.setDate(a.getDate()-u);break;case 2:n.filterInterval.isShow=!1,u=1,a.setDate(a.getDate()-u);break;case 3:n.filterInterval.isShow=!1,u=7,a.setDate(a.getDate()-u);break;case 4:n.filterInterval.isShow=!1,u=14,a.setDate(a.getDate()-u);break;case 5:n.filterInterval.isShow=!1,u=30,a.setDate(a.getDate()-u);break;case 6:n.filterInterval.isShow=!1,u=0===g?6:g-1,a.setDate(a.getDate()-u);break;case 7:n.filterInterval.isShow=!1,u=g+7-1,console.log("daysToSubtract",u),a.setDate(a.getDate()-u);break;case 8:n.filterInterval.isShow=!1,a.setDate(1);break;case 9:n.filterInterval.isShow=!1,a.setDate(1),a.setMonth(a.getMonth()-1);break;case 10:n.filterInterval.isShow=!0}n.filterInterval.pastTime=n.datePipe.transform(a,"yyyy-MM-ddTHH:mm:ss"),n.filterInterval.presentTime=n.datePipe.transform(p,"yyyy-MM-ddTHH:mm:ss");const f={barcode:null,patient:null,status:null,fromDate:a,toDate:p,assignToUserId:null,counselors:null,partnerId:null,isSendSMS:null,isPrintResult:null,patientAge:null,phoneNo:null,keyword:n.keywordSearch,pageSize:50,page:1};yield n.getListOrder(f,!0)})()}handleChangeFilterIntervalCustomByUser(e){var n=this;return(0,d.Z)(function*(){const p={barcode:null,patient:null,status:0,fromDate:n.filterInterval.pastTime,toDate:n.filterInterval.presentTime,assignToUserId:0,counselors:null,partnerId:0,isSendSMS:null,isPrintResult:null,patientAge:null,phoneNo:null,keyword:n.keywordSearch,pageSize:50,page:1};yield n.getListOrder(p,!0)})()}handleChangeRequestType(e){}handleChangeTimeSample(e){}onSearchByFormFilter(){var e=this;return(0,d.Z)(function*(){const n={barcode:null,patient:null,status:null,fromDate:e.filterInterval.pastTime,toDate:e.filterInterval.presentTime,assignToUserId:null,counselors:null,partnerId:null,isSendSMS:null,isPrintResult:null,patientAge:null,phoneNo:e.formFilterTestSheet.phoneNoPatient,keyword:e.formFilterTestSheet.namePatient,pageSize:50,page:1};yield e.getListOrder(n,!1),e.popoverFormFilter.dismiss()})()}restartFormFilter(){this.formFilterTestSheet.namePatient="",this.formFilterTestSheet.phoneNoPatient="",this.orderStatusSelect.value=0}pushLog(e){console.log(e)}cancelFormFilter(){this.popoverFormFilter.dismiss()}isEmpty(e){return(new P.i).transform(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(v.T),t.Y36(l.Dh),t.Y36(_.F0),t.Y36(l.t4),t.Y36(b.V),t.Y36(C.K),t.Y36(l.SH),t.Y36(l.up),t.Y36(l.BX),t.Y36(Z.g),t.Y36(E.J),t.Y36(L.A),t.Y36(T.b),t.Y36(l.Br),t.Y36(A.p),t.Y36(l.HT),t.Y36(m.uU),t.Y36(F.m))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-laboratory"]],viewQuery:function(e,n){if(1&e&&(t.Gf(l.ki,5),t.Gf(S,5),t.Gf(D,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.modal=o.first),t.iGM(o=t.CRH())&&(n.popoverFormFilter=o.first),t.iGM(o=t.CRH())&&(n.orderStatusSelect=o.first)}},decls:24,vars:6,consts:[[1,"ion-padding"],[2,"display","flex"],["autocomplete","on","placeholder","T\xecm ki\u1ebfm ...",3,"ionChange"],["slot","start",3,"click"],["slot","icon-only","name","funnel-outline"],["size","auto",3,"isOpen","didDismiss"],["popoverFormFilter",""],[2,"display","flex","align-items","center"],["slot","start","name","calendar-clear-outline","color","primary"],["aria-label","times","interface","alert","placeholder","Ch\u1ecdn kho\u1ea3ng th\u1eddi gian l\u1ecdc ...",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"content-laboratory"],[4,"ngFor","ngForOf"],[3,"isOpen"],[2,"font-size","small"],["position","stacked"],["name","person-outline"],["placeholder","Nh\u1eadp t\xean b\u1ec7nh nh\xe2n ...",3,"ngModel","ngModelChange"],["name","call-outline"],["type","tel","placeholder","Nh\u1eadp S\u0110T ...",3,"ngModel","ngModelChange"],["name","send-outline"],["label","Tr\u1ea1ng th\xe1i \u0110\u01a1n h\xe0ng","interface","alert","label-placement","floating","placeholder","Tr\u1ea1ng th\xe1i \u0111\u01a1n h\xe0ng",2,"font-size","small",3,"interfaceOptions","ionChange"],["orderStatusSelect",""],["style","font-size: small;",3,"value",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","space-evenly","margin-top","0.5rem"],["size","small","fill","outline","color","medium","title","Hu\u1ef7",3,"click"],["name","close-outline"],["size","small","fill","outline","color","danger","title","Xo\xe1 l\u1ecdc",3,"click"],["size","small","name","trash-outline"],["size","small","fill","solid","title","L\u1ecdc d\u1eef li\u1ec7u ...",3,"click"],["size","small","name","search-outline"],[2,"font-size","small",3,"value"],[3,"value"],["datetime","from-datetime",2,"font-size","small"],[3,"keepContentsMounted"],["locale","vi-VI","id","from-datetime",3,"ngModel","showDefaultTitle","showDefaultButtons","showClearButton","ngModelChange","ionChange"],["fromDatetime",""],["slot","title"],["datetime","toDatetime",2,"font-size","small"],["locale","vi-VI","id","toDatetime",3,"ngModel","showDefaultTitle","showDefaultButtons","showClearButton","min","ngModelChange","ionChange"],["toDatetime",""],["class","name-patient",4,"ngIf"],["class","info",4,"ngIf"],["class","status",4,"ngIf"],[1,"name-patient"],[1,"info"],[1,"text"],["name","location-outline"],[1,"text","address"],["name","pulse-outline"],[1,"status"],["slot","start"],[3,"click"],["slot","end"],[3,"innerHTML"],[2,"color","red"],["type","text","placeholder","Nh\u1eadp t\xean b\u1ec7nh nh\xe2n ...",3,"ngModel","ngModelChange","keyup"],["class","m-error",4,"ngIf"],["type","tel","placeholder","888-888-8888",3,"ngModel","ngModelChange","keyup"],["type","text","placeholder","Nh\u1eadp \u0111\u1ecba ch\u1ec9 ...",3,"ngModel","ngModelChange","keyup"],["position","floating"],["name","pencil-outline"],["type","text","placeholder","Th\xeam ghi ch\xfa ...",3,"ngModel","ngModelChange"],[2,"margin-top","1rem","display","flex","justify-content","end"],["slot","primary"],[1,"m-error"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-content",0)(1,"div")(2,"div")(3,"div",1)(4,"ion-searchbar",2),t.NdJ("ionChange",function(a){return n.handleChangeSearch(a)}),t.qZA(),t.TgZ(5,"ion-buttons",3),t.NdJ("click",function(a){return n.presentPopoverFilter(a)}),t.TgZ(6,"ion-button"),t._UZ(7,"ion-icon",4),t.qZA()(),t.TgZ(8,"ion-popover",5,6),t.NdJ("didDismiss",function(){return n.isPopoverOpenFilter=!1}),t.YNc(10,N,28,4,"ng-template"),t.qZA()(),t.TgZ(11,"div",7)(12,"ion-list")(13,"ion-item"),t._UZ(14,"ion-icon",8),t.TgZ(15,"ion-select",9),t.NdJ("ionChange",function(a){return n.handleChangeFilterInterval(a)}),t.YNc(16,I,2,2,"ion-select-option",10),t.qZA()(),t.YNc(17,U,6,1,"ion-item",11),t.YNc(18,k,6,1,"ion-item",11),t.qZA()()(),t.TgZ(19,"div",12)(20,"ion-list"),t.YNc(21,Q,12,15,"ion-item",13),t.qZA()()()(),t.TgZ(22,"ion-modal",14),t.YNc(23,z,49,9,"ng-template"),t.qZA()),2&e&&(t.xp6(8),t.Q6J("isOpen",n.isPopoverOpenFilter),t.xp6(8),t.Q6J("ngForOf",n.initDatas.baoCaoDoanhSoType),t.xp6(1),t.Q6J("ngIf",n.filterInterval.isShow),t.xp6(1),t.Q6J("ngIf",n.filterInterval.isShow),t.xp6(3),t.Q6J("ngForOf",n.listOrder),t.xp6(1),t.Q6J("isOpen",n.isModalOpenFormPatient))},dependencies:[l.YG,l.Sm,l.wI,l.W2,l.x4,l.Mj,l.Gu,l.gu,l.pK,l.Ie,l.Q$,l.q_,l.VI,l.t9,l.n0,l.wd,l.sr,l.ki,l.d8,l.QI,l.j9,m.sg,m.O5,h.JJ,h.On,m.uU,P.i,x],styles:[".m-error[_ngcontent-%COMP%]{position:relative;z-index:1;margin-left:.8rem;min-height:18px;font-size:small;color:var(--ion-color-danger)}.content-laboratory[_ngcontent-%COMP%]{overflow:auto;max-height:calc(100vh - 15.5rem)}.content-laboratory[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-laboratory[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3.name-patient[_ngcontent-%COMP%]{font-weight:600;white-space:break-spaces}.content-laboratory[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   div.info[_ngcontent-%COMP%]{display:flex;padding:.25rem}.content-laboratory[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   div.info[_ngcontent-%COMP%]   h3.text[_ngcontent-%COMP%]{margin-left:.25rem}.content-laboratory[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   div.info[_ngcontent-%COMP%]   h3.address[_ngcontent-%COMP%]{white-space:break-spaces}.content-laboratory[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   div.status[_ngcontent-%COMP%]{display:inline-block;padding:.25rem;margin-top:.25rem;border-radius:.25rem;background-color:#b5e0ff}"]}),i})()}];let W=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[_.Bz.forChild($),_.Bz]}),i})();var j=s(3913);let X=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[T.b],imports:[l.Pc,m.ez,h.u5,M.e,W,j.m]}),i})()}}]);